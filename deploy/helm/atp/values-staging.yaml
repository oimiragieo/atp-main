# Copyright 2025 ATP Project Contributors
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Staging environment configuration
global:
  environment: staging
  domain: staging-atp.company.com
  projectId: "atp-staging-project"

# Router configuration for staging
router:
  replicaCount: 2
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 2Gi
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 70

# Memory gateway configuration for staging
memoryGateway:
  replicaCount: 1
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 1Gi
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5

# Admin dashboard configuration for staging
adminDashboard:
  replicaCount: 1
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 512Mi

# Database configuration for staging
database:
  external: true
  connectionName: "atp-staging-project:us-central1:atp-staging-db"
  credentials:
    secretName: atp-staging-database-credentials

# Redis configuration for staging
redis:
  external: true
  host: "10.0.0.100"  # Staging Redis IP
  credentials:
    secretName: atp-staging-redis-credentials

# Ingress configuration for staging
ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.global-static-ip-name: "atp-staging-ip"
    networking.gke.io/managed-certificates: "atp-staging-ssl-cert"
  hosts:
    - host: staging-api.atp.company.com
      paths:
        - path: /
          pathType: Prefix
          service: atp-router
    - host: staging-admin.atp.company.com
      paths:
        - path: /
          pathType: Prefix
          service: atp-admin-dashboard

# SSL certificates for staging
certificates:
  enabled: true
  domains:
    - staging-api.atp.company.com
    - staging-admin.atp.company.com

# Monitoring configuration for staging
monitoring:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s
  alerts:
    enabled: true

# Development features enabled in staging
development:
  enabled: true
  debug: true
  seedData: true

# Reduced security for staging
networkPolicies:
  enabled: false

# Cost optimization for staging
costOptimization:
  spotInstances: true
  clusterAutoscaling: true

# Feature flags for staging
features:
  tracing: true
  metrics: true
  auditLogging: false
  rateLimiting: false
  caching: true
  circuitBreaker: false

# Compliance settings for staging
compliance:
  soc2: false
  gdpr: false